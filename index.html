<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>思维冒险者 · 批判性思维训练小游戏</title>

<!-- Chart.js -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<!-- ===== 美丽 UI 的 CSS ===== -->
<style>
    body {
        margin: 0;
        font-family: "PingFang SC", "Microsoft YaHei", sans-serif;
        background: linear-gradient(135deg, #dbeafe, #fef3c7);
        min-height: 100vh;
    }

    /* 顶部标题栏 */
    header {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 12px;
        padding: 18px 0;
        background: #1e293b;
        box-shadow: 0 2px 6px rgba(0,0,0,0.2);
    }

    header img {
        height: 48px;
        border-radius: 8px;
    }

    header span {
        color: white;
        font-size: 20px;
        font-weight: bold;
    }

    /* 卡片整体容器 */
    .container {
        max-width: 760px;
        margin: 0 auto;
        padding: 20px;
    }

    /* 最漂亮的玻璃卡片 */
    .card {
        background: rgba(255,255,255,0.65);
        backdrop-filter: blur(14px);
        padding: 20px;
        border-radius: 18px;
        box-shadow: 0 10px 35px rgba(0,0,0,0.1);
        margin-bottom: 26px;
        border: 1px solid rgba(255,255,255,0.4);
    }

    .section-title {
        font-size: 18px;
        font-weight: bold;
        margin-bottom: 12px;
        color: #1e293b;
    }

    button {
        background: #3b82f6;
        border: none;
        padding: 12px 16px;
        border-radius: 10px;
        font-size: 15px;
        color: white;
        cursor: pointer;
        transition: 0.2s;
    }
    button:hover {
        background: #2563eb;
    }

    textarea {
        width: 100%;
        padding: 12px;
        border-radius: 12px;
        border: 1px solid #cbd5e1;
        font-size: 15px;
        background: white;
        margin-top: 10px;
        min-height:140px;
    }

    select {
        width: 100%;
        padding: 10px;
        border-radius: 10px;
        font-size: 15px;
        border: 1px solid #cbd5e1;
        margin-bottom: 10px;
    }

    canvas {
        max-width: 100%;
    }

    /* 等级显示卡片 */
    #level-card {
        background: white;
        border-radius: 16px;
        padding: 18px;
        box-shadow: 0 8px 25px rgba(0,0,0,0.12);
        margin: 15px 0 30px 0;
    }

    #level-title {
        font-size: 18px;
        font-weight: bold;
        margin-bottom: 6px;
        color:#1e293b;
    }

    #percentile-text {
        margin-top: 6px;
        font-size: 14px;
        color:#475569;
    }

    /* 等级进度条 */
    .progress-bg {
        height: 12px;
        background: #e2e8f0;
        border-radius: 6px;
        margin-top: 8px;
        overflow: hidden;
    }
    #progress-bar {
        height: 12px;
        background: linear-gradient(90deg,#60a5fa,#2563eb);
        width: 0%;
        transition: width 0.5s ease;
    }

    /* 大师思维动画条 */
    .thinking-flow {
        display:flex;
        gap:8px;
        margin-top:12px;
        flex-wrap:wrap;
    }
    .thinking-step {
        padding:6px 10px;
        border-radius:6px;
        background:#e2e8f0;
        color:#334155;
        font-size:14px;
        opacity:0.4;
        transition:0.3s;
    }
    .thinking-step.active {
        background:#3b82f6;
        color:white;
        opacity:1;
        transform:scale(1.08);
    }
</style>
</head>

<body>

<!-- LOGO Header -->
<header>
    <img src="ChatGPT Image 2025年11月17日 17_47_21.png" alt="logo">
    <span>思维冒险者 · 批判性思维训练小游戏</span>
</header>

<!-- 等级系统卡片 -->
<div class="container">
<div id="level-card">
    <div id="level-title">等级：加载中...</div>
    <div class="progress-bg">
        <div id="progress-bar"></div>
    </div>
    <div id="level-exp-text" style="margin-top:6px; color:#475569;">积分：0</div>
    <div id="percentile-text">你超过了全球 0% 的人类</div>
</div>
</div>

<!-- 主体内容 -->
<div class="container">

    <div class="card">
        <div class="section-title">① 抽取今日思维元素卡</div>
        <button onclick="drawElementCard()">抽元素卡</button>
        <p id="elementCard" style="white-space:pre-wrap;"></p>
        <textarea id="elementAnswer" placeholder="在这里写下你的回答..."></textarea>
    </div>

    <div class="card">
        <div class="section-title">② 抽取今日思维标准卡</div>
        <button onclick="drawStandardCard()">抽标准卡</button>
        <p id="standardCard" style="white-space:pre-wrap;"></p>

        <div class="section-title">为该标准打分（1–3 分）</div>
        <select id="standardScore">
            <option value="1">1 分</option>
            <option value="2">2 分</option>
            <option value="3">3 分</option>
        </select>

        <div class="section-title">诚实度打分（1–3 分）</div>
        <select id="honestyScore">
            <option value="1">1 分</option>
            <option value="2">2 分</option>
            <option value="3">3 分</option>
        </select>
    </div>

    <button onclick="saveToday()">保存今日记录</button>

    <div class="card">
        <div class="section-title">③ 本周统计（自动计算）</div>
        <pre id="weeklyStats"></pre>
        <button onclick="showWeekly()">刷新统计 & 图表</button>
    </div>

    <div class="card">
        <div class="section-title">📊 思维要素练习覆盖度</div>
        <canvas id="elementRadar"></canvas>
    </div>

    <div class="card">
        <div class="section-title">📊 思维标准平均分</div>
        <canvas id="standardRadar"></canvas>
    </div>

    <div class="card">
        <div class="section-title">📈 思维阶段趋势</div>
        <canvas id="stageTrend"></canvas>
    </div>

</div>

<!-- =============== 大师动画模块 =============== -->
<div class="container">
<div class="card">
    <div class="section-title">✨ 大师思维动画（自动展示八要素）</div>
    <div class="thinking-flow">
        <div class="thinking-step" id="step-purpose">目的</div>
        <div class="thinking-step" id="step-question">问题</div>
        <div class="thinking-step" id="step-info">信息</div>
        <div class="thinking-step" id="step-concept">概念</div>
        <div class="thinking-step" id="step-assumption">假设</div>
        <div class="thinking-step" id="step-inference">推论</div>
        <div class="thinking-step" id="step-view">视角</div>
        <div class="thinking-step" id="step-impact">后果</div>
    </div>
</div>
</div>

<script>
let steps = ["purpose","question","info","concept","assumption","inference","view","impact"];
let index = 0;
setInterval(()=>{
    steps.forEach(s=>{
        document.getElementById("step-"+s).classList.remove("active");
    });
    document.getElementById("step-"+steps[index]).classList.add("active");
    index = (index+1)%steps.length;
}, 1800);
</script>

<!-- =============== 五大大师卡片（折叠模块） =============== -->

<!-- 大师卡片 1：处理冲突 -->
<div class="container">
<div class="card" style="cursor:pointer;" onclick="toggleMasterCard('conflict')">
    <div class="section-title">🧠 大师如何处理冲突？（点击展开）</div>
    <div id="master-conflict" style="display:none; white-space:pre-wrap; line-height:1.6; font-size:15px;">

【大师如何处理冲突？】
以下内容基于《批判性思维工具》八要素 + 九标准整理

────────────────────────────
🎯 1. 目的（Purpose）
────────────────────────────
大师首先问：
“冲突的目的不是‘赢’，而是‘理解 → 对齐 → 共同解法’。”

────────────────────────────
❓ 2. 核心问题（Question）
────────────────────────────
“大问题是什么？
是误解？价值观不同？还是需要未被满足？”

────────────────────────────
📚 3. 信息（Information）
────────────────────────────
大师区分：
• 事实：发生了什么？  
• 推测：我以为发生了什么？  
• 情绪：我感受到什么？

────────────────────────────
🔎 4. 概念（Concept）
────────────────────────────
大师把冲突定义为：
“未表达清楚的需要 + 未理解到位的意图。”

────────────────────────────
🧩 5. 假设（Assumptions）
────────────────────────────
大师检查隐藏假设：
• “对方是故意针对我？”  
• “只有我受伤？”  
• “冲突只有输赢？”  
并问：“这些假设是真的吗？”

────────────────────────────
👓 6. 视角（Point of View）
────────────────────────────
大师至少从三个视角看问题：
• 自己  
• 对方  
• 第三方旁观者（最重要）

────────────────────────────
🔁 7. 推论（Inference）
────────────────────────────
大师不会直接下判断，而是：
“为了达成共识，还需要哪些信息？”

────────────────────────────
🌍 8. 后果（Implications）
────────────────────────────
大师评估不同做法的长期后果：

• 强硬压制 → 关系破裂  
• 退让 → 积累怨气  
• 理解对方需求 → 找到更优解  

────────────────────────────
🧠 九标准自检（Standards）
────────────────────────────
大师问：
• 我清晰吗？  
• 我准确吗？  
• 我公平吗？  
• 我是否只想赢？  

────────────────────────────
🌈 大师总结（Meta-cognition）
────────────────────────────
大师最终做四件事：
1) 先理解情绪  
2) 再确认需求  
3) 再表达自己的需求  
4) 再共同找解法  

大师不把冲突当成战争，而是：
**“共同发现更好的现实。”**

    </div>
</div>
</div>


<!-- 大师卡片 2：看情绪 -->
<div class="container">
<div class="card" style="cursor:pointer;" onclick="toggleMasterCard('emotion')">
    <div class="section-title">🧠 大师如何看情绪？（点击展开）</div>
    <div id="master-emotion" style="display:none; white-space:pre-wrap; line-height:1.6; font-size:15px;">

【大师如何看情绪？】

────────────────────────────
🎯 目的
不是压抑情绪，而是：
“听懂情绪背后的真实信息。”

────────────────────────────
📚 信息（情绪 = 信息）
根据《批判性思维工具》的模型：
情绪由三部分构成：
1）事件  
2）解释（自动想法）  
3）需求（未被满足）

大师盯着的是：第 2 和第 3。

────────────────────────────
🔎 概念
大师把情绪定义为：
**“思维还没处理完的信号。”**

────────────────────────────
🧩 假设
大师反问：
“我对事件的解释是否准确？”

例如：
“他不回我消息” ≠ “他不重视我”。

────────────────────────────
👓 视角
大师从三个角度重新解释情绪：
• 自己的角度  
• 对方角度  
• 中立旁观者角度  

────────────────────────────
🌍 后果
大师评估：
“我如果直接按情绪行动，会造成什么？”

────────────────────────────
🌈 大师总结
大师不是没有情绪，
而是：
**情绪不主导思维，情绪提示思维。**

    </div>
</div>
</div>


<!-- 大师卡片 3：做重要决定 -->
<div class="container">
<div class="card" style="cursor:pointer;" onclick="toggleMasterCard('decision')">
    <div class="section-title">🧠 大师如何做重要决定？（点击展开）</div>
    <div id="master-decision" style="display:none; white-space:pre-wrap; line-height:1.6; font-size:15px;">

【大师如何做重要决定？】

────────────────────────────
🎯 1. 目的
大师问：
“我做这个决定，是为了什么？”

（重要决定失败的根源往往是“目的不清”）

────────────────────────────
❓ 2. 核心问题
大师把大问题拆成小问题。

例如：
“我要不要换工作？” → 拆成：
• 我的长期职业路线是什么？  
• 当前工作提供什么？  
• 新工作提供什么？  

────────────────────────────
📚 3. 信息
大师区分：
• 已知  
• 未知  
• 不知道自己不知道的  

（顶点思维者的优势就在这个第三类）

────────────────────────────
🔎 4. 概念
大师会定义关键概念，例如：
“风险 = 损失概率 × 损失严重度”

────────────────────────────
🧩 5. 假设
大师写出：
“我当前的假设是什么？”  
并问：“如果这个假设是错的，会怎样？”

────────────────────────────
👓 6. 视角
大师从未来的自己角度（5–10 年后）做决定。

────────────────────────────
🌍 7. 后果
大师评估：
• 做  
• 不做  
• 推迟

三种情况的后果。

（普通人只看做与不做，大师看“不做的代价”）

────────────────────────────
🌈 大师总结
大师做重要决定遵循：
**“做最不后悔的选择。”**

    </div>
</div>
</div>


<!-- 大师卡片 4：判断信息真假 -->
<div class="container">
<div class="card" style="cursor:pointer;" onclick="toggleMasterCard('truth')">
    <div class="section-title">🧠 大师如何判断信息真假？（点击展开）</div>
    <div id="master-truth" style="display:none; white-space:pre-wrap; line-height:1.6; font-size:15px;">

【大师如何判断信息真假？】

────────────────────────────
🎯 目的
大师问：
“我是在找真实？还是找我想相信的东西？”

────────────────────────────
📚 信息检查（大师四问）
1）信息来源可靠么？  
2）证据充分么？  
3）推论逻辑一致吗？  
4）是否可以被证伪？  

────────────────────────────
🧩 假设
大师怀疑自己的第一反应：
“我是不是太快相信了？”

────────────────────────────
👓 视角
大师主动寻找反对证据。

（普通人只看支持证据）

────────────────────────────
🌍 后果
错误信息的代价 → 极高。

────────────────────────────
🌈 大师总结
大师不是更聪明，
而是：
**更愿意检验自己的信念。**

    </div>
</div>
</div>


<!-- 大师卡片 5：如何学习 -->
<div class="container">
<div class="card" style="cursor:pointer;" onclick="toggleMasterCard('learning')">
    <div class="section-title">🧠 大师如何学习？（点击展开）</div>
    <div id="master-learning" style="display:none; white-space:pre-wrap; line-height:1.6; font-size:15px;">

【大师如何学习？】

────────────────────────────
🎯 目的
大师学习不是为了“记住内容”，  
而是为了“升级思维模型”。

────────────────────────────
📚 信息
大师找的是：
• 核心概念  
• 内在结构  
（这是《批判性思维工具》强调的“抓内在逻辑结构”）

────────────────────────────
🔎 概念
大师问：
“这个学科最核心的思维要素是什么？”

────────────────────────────
🧩 假设
大师反问：
“我以为我懂了吗？我真的懂了吗？”

────────────────────────────
👓 视角
大师把新知识与：
• 生活  
• 决策  
• 未来计划  
发生连接。

────────────────────────────
🌈 大师总结
大师学习不是反复记忆，而是：
**理解结构 → 用结构解释世界。**

    </div>
</div>
</div>

<!-- =============== 折叠 JS =============== -->
<script>
function toggleMasterCard(id){
    const el = document.getElementById("master-"+id);
    el.style.display = el.style.display === "none" ? "block" : "none";
}
</script>

<!-- ===== 最终结束 Body 和 HTML ===== -->
</body>
</html>
